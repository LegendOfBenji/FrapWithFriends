require.onError=function(t){"use strict";try{console.error(t.originalError||t,t.requireType,t.requireModules)}catch(t){}},define("common",function(){}),define("require/text",["module"],function(t){"use strict";var e,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o="undefined"!=typeof location&&location.href,s=o&&location.protocol&&location.protocol.replace(/\:/,""),u=o&&location.hostname,l=o&&(location.port||void 0),c=[],d=t.config&&t.config()||{};return e={version:"2.0.5",strip:function(t){if(t){t=t.replace(i,"");var e=t.match(a);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;e<3;e+=1){n=r[e];try{t=new ActiveXObject(n)}catch(t){}if(t){r=[n];break}}return t},parseName:function(t){var e,n,r,i=!1,a=t.indexOf("."),o=0===t.indexOf("./")||0===t.indexOf("../");return-1!==a&&(!o||a>1)?(e=t.substring(0,a),n=t.substring(a+1,t.length)):e=t,r=n||e,a=r.indexOf("!"),-1!==a&&(i="strip"===r.substring(a+1),r=r.substring(0,a),n?n=r:e=r),{moduleName:e,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,n,r,i){var a,o,s,u=e.xdRegExp.exec(t);return!u||(a=u[2],o=u[3],o=o.split(":"),s=o[1],o=o[0],!(a&&a!==n||o&&o.toLowerCase()!==r.toLowerCase()||(s||o)&&s!==i))},finishLoad:function(t,n,r,i){r=n?e.strip(r):r,d.isBuild&&(c[t]=r),i(r)},load:function(t,n,r,i){if(i.isBuild&&!i.inlineText)return void r();d.isBuild=i.isBuild;var a=e.parseName(t),c=a.moduleName+(a.ext?"."+a.ext:""),f=n.toUrl(c),h=d.useXhr||e.useXhr;!o||h(f,s,u,l)?e.get(f,function(n){e.finishLoad(t,a.strip,n,r)},function(t){r.error&&r.error(t)}):n([c],function(t){e.finishLoad(a.moduleName+"."+a.ext,a.strip,t,r)})},write:function(t,n,r,i){if(c.hasOwnProperty(n)){var a=e.jsEscape(c[n]);r.asModule(t+"!"+n,"define(function () { return '"+a+"';});\n")}},writeFile:function(t,n,r,i,a){var o=e.parseName(n),s=o.ext?"."+o.ext:"",u=o.moduleName+s,l=r.toUrl(o.moduleName+s)+".js";e.load(u,r,function(n){var r=function(t){return i(l,t)};r.asModule=function(t,e){return i.asModule(t,l,e)},e.write(t,u,r,a)},a)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(n=require.nodeRequire("fs"),e.get=function(t,e){var r=n.readFileSync(t,"utf8");0===r.indexOf("\ufeff")&&(r=r.substring(1)),e(r)}):"xhr"===d.env||!d.env&&e.createXhr()?e.get=function(t,n,r,i){var a,o=e.createXhr();if(o.open("GET",t,!0),i)for(a in i)i.hasOwnProperty(a)&&o.setRequestHeader(a.toLowerCase(),i[a]);d.onXhr&&d.onXhr(o,t),o.onreadystatechange=function(e){var i,a;4===o.readyState&&(i=o.status,i>399&&i<600?(a=new Error(t+" HTTP status: "+i),a.xhr=o,r(a)):n(o.responseText))},o.send(null)}:("rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(e.get=function(t,e){var n,r,i=new java.io.File(t),a=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),s="";try{for(n=new java.lang.StringBuffer,r=o.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),n.append(r);null!==(r=o.readLine());)n.append(a),n.append(r);s=String(n.toString())}finally{o.close()}e(s)}),e}),define("require/normalize",["require","module"],function(t,e){function n(t,e,n){return t=s(t),t.match(/^\/|([^\:\/]*:)/)?t:a(r(t,e),n)}function r(t,e){"./"==t.substr(0,2)&&(t=t.substr(2));var n=e.split("/"),r=t.split("/");for(n.pop();curPart=r.shift();)".."==curPart?n.pop():n.push(curPart);return n.join("/")}function a(t,e){var n=e.split("/");for(n.pop(),e=n.join("/")+"/",i=0;e.substr(i,1)==t.substr(i,1);)i++;for(;"/"!=e.substr(i,1);)i--;e=e.substr(i+1),t=t.substr(i+1),n=e.split("/");var r=t.split("/");for(out="";n.shift();)out+="../";for(;curPart=r.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var o=/([^:])\/+/g,s=function(t){return t.replace(o,"$1/")},u=function(t,e,r){e=s(e),r=s(r);for(var i,a,t,o=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;i=o.exec(t);){a=i[3]||i[2]||i[5]||i[6]||i[4];var u=n(a,e,r),l=i[5]||i[6]?1:0;t=t.substr(0,o.lastIndex-a.length-l-1)+u+t.substr(o.lastIndex-l-1),o.lastIndex=o.lastIndex+(u.length-a.length)}return t};return u.convertURIBase=n,u}),define("require/css",["./normalize","module"],function(t,e){if("undefined"==typeof window)return{load:function(t,e,n){n()}};var n,r,i=document.getElementsByTagName("head")[0],a=window.navigator.userAgent.match(/Chrome\/([^ \.]*)|MSIE ([^ ;]*)|Firefox\/([^ ;]*)|Version\/([\d\.]*) Safari\//);window.opera&&(r="opera",n=!0),a&&(a[4]&&(r="webkit"),a[3]?r="mozilla":a[2]?r="ie":a[1]&&(r="webkit"),n=r&&(parseInt(a[4])>5||parseInt(a[3])>8||parseInt(a[2])>9||parseInt(a[1])>18)||void 0);var o=e.config();o&&void 0!==o.useLinks&&(n=o.useLinks);var s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u={},l=function(t,e,n){if(u[t])return void e(u[t]);var r,i,a;if("undefined"!=typeof XMLHttpRequest)r=new XMLHttpRequest;else if("undefined"!=typeof ActiveXObject)for(i=0;i<3;i+=1){a=s[i];try{r=new ActiveXObject(a)}catch(t){}if(r){s=[a];break}}r.open("GET",t,!requirejs.inlineRequire),r.onreadystatechange=function(i){var a,o;4===r.readyState&&(a=r.status,a>399&&a<600?(o=new Error(t+" HTTP status: "+a),o.xhr=r,n(o)):(u[t]=r.responseText,e(r.responseText)))},r.send(null)},c={};c.pluginBuilder="./css-builder";var d=document.createElement("style");d.type="text/css",i.appendChild(d),d.styleSheet?c.inject=function(t){d.styleSheet.cssText+=t}:c.inject=function(t){d.appendChild(document.createTextNode(t))};var f=function(t,e){setTimeout(function(){for(var n=0;n<document.styleSheets.length;n++){if(document.styleSheets[n].href==t.href)return e()}f(t,e)},10)},h=function(t,e){setTimeout(function(){try{return t.sheet.cssRules,e()}catch(t){}h(t,e)},10)},p=function(t){var e=document.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e};c.linkLoad=function(t,e){var n=setTimeout(e,1e3*v-100),o=function(){clearTimeout(n),e()};if("webkit"==r){var s=p(t);f(s,o),i.appendChild(s)}else if("mozilla"==r&&parseInt(a[3])<18){var u=document.createElement("style");u.textContent='@import "'+t+'"',h(u,o),i.appendChild(u)}else{var s=p(t);s.onload=o,i.appendChild(s)}},c.inspect=function(){return d.styleSheet?d.styleSheet.cssText:d.innerHTML?d.innerHTML:void 0},c.normalize=function(t,e){return".css"==t.substr(t.length-4,4)&&(t=t.substr(0,t.length-4)),e(t)};var g=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,m=window.location.pathname.split("/");m.pop(),m=m.join("/")+"/";var v,y=function(e,n,r){"/"!=e.substr(0,1)&&(e="/"+t.convertURIBase(e,m,"/")),l(e,function(i){i=t(i,e,m);for(var a,o=[],s=[],u=[];a=g.exec(i);){var l=a[4]||a[5]||a[7]||a[8]||a[9];-1==l.indexOf(".")&&(l+=".less"),o.push(l),s.push(g.lastIndex-a[0].length),u.push(a[0].length)}for(var c=0,d=0;d<o.length;d++)!function(t){y(o[t],function(e){i=i.substr(0,s[t])+e+i.substr(s[t]+u[t]);for(var r=e.length-u[t],a=t+1;a<o.length;a++)s[a]+=r;++c==o.length&&n(i)},r)}(d);0==o.length&&n(i)},r)};return c.load=function(t,e,r,i,a){v=v||i.waitSeconds||7;var o=t;".css"==o.substr(o.length-4,4)||a||(o+=".css"),o=e.toUrl(o);var s=!0,u=/^(\w+:)?\/\/([^\/]+)/.exec(o);u&&(s=u[2]===window.location.host,u[1]&&(s&=u[1]===window.location.protocol)),a||!1===n||s&&!n?y(o,function(t){a&&(t=a(t)),c.inject(t),r(c)},r.error):c.linkLoad(o,function(){r(c)})},c});var Hogan={};!function(t,e){function n(t,e,n){var r;return e&&"object"==typeof e&&(null!=e[t]?r=e[t]:n&&e.get&&"function"==typeof e.get&&(r=e.get(t))),r}function r(t,e,n,r){function i(){}function a(){}i.prototype=t,a.prototype=t.subs;var o,s=new i;s.subs=new a,s.subsText={},s.ib();for(o in e)s.subs[o]=e[o],s.subsText[o]=r;for(o in n)s.partials[o]=n[o];return s}function i(t){return String(null===t||void 0===t?"":t)}function a(t){return t=i(t),d.test(t)?t.replace(o,"&amp;").replace(s,"&lt;").replace(u,"&gt;").replace(l,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,e,n,r){t=t||{},this.r=t.code||this.r,this.c=n,this.options=r||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(t,e,n){return""},v:a,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],i=e[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}return i?(this.partials[t].base=i,n.subs&&(void 0===this.activeSub&&(e.stackText=this.text),i=r(i,n.subs,n.partials,e.stackText||this.text)),this.partials[t].instance=i,i):null},rp:function(t,e,n,r){var i=this.ep(t,n);return i?i.ri(e,n,r):""},rs:function(t,e,n){var r=t[t.length-1];if(!f(r))return void n(t,e,this);for(var i=0;i<r.length;i++)t.push(r[i]),n(t,e,this),t.pop()},s:function(t,e,n,r,i,a,o){var s;return(!f(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,r,i,a,o)),s=!!t,!r&&s&&e&&e.push("object"==typeof t?t:e[e.length-1]),s)},d:function(t,e,r,i){var a,o=t.split("."),s=this.f(o[0],e,r,i),u=this.options.modelGet,l=null;if("."===t&&f(e[e.length-2]))s=e[e.length-1];else for(var c=1;c<o.length;c++)a=n(o[c],s,u),null!=a?(l=s,s=a):s="";return!(i&&!s)&&(i||"function"!=typeof s||(e.push(l),s=this.mv(s,e,r),e.pop()),s)},f:function(t,e,r,i){for(var a=!1,o=null,s=!1,u=this.options.modelGet,l=e.length-1;l>=0;l--)if(o=e[l],null!=(a=n(t,o,u))){s=!0;break}return s?(i||"function"!=typeof a||(a=this.mv(a,e,r)),a):!i&&""},ls:function(t,e,n,r,a){var o=this.options.delimiters;return this.options.delimiters=a,this.b(this.ct(i(t.call(e,r)),e,n)),this.options.delimiters=o,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=""},ms:function(t,e,n,r,i,a,o){var s,u=e[e.length-1],l=t.call(u);return"function"==typeof l?!!r||(s=this.activeSub&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,u,n,s.substring(i,a),o)):l},mv:function(t,e,n){var r=e[e.length-1],a=t.call(r);return"function"==typeof a?this.ct(i(a.call(r)),r,n):a},sub:function(t,e,n,r){var i=this.subs[t];i&&(this.activeSub=t,i(e,n,this,r),this.activeSub=!1)}};var o=/&/g,s=/</g,u=/>/g,l=/\'/g,c=/\"/g,d=/[&<>\"\']/,f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function r(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var r=1,i=t.length;r<i;r++)if(e.charAt(n+r)!=t.charAt(r))return!1;return!0}function i(e,n,r,s){var u=[],l=null,c=null,d=null;for(c=r[r.length-1];e.length>0;){if(d=e.shift(),c&&"<"==c.tag&&!(d.tag in b))throw new Error("Illegal content in < super tag.");if(t.tags[d.tag]<=t.tags.$||a(d,s))r.push(d),d.nodes=i(e,d.tag,r,s);else{if("/"==d.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+d.n);if(l=r.pop(),d.n!=l.n&&!o(d.n,l.n,s))throw new Error("Nesting error: "+l.n+" vs. "+d.n);return l.end=d.i,u}"\n"==d.tag&&(d.last=0==e.length||"\n"==e[0].tag)}u.push(d)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return u}function a(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].o==t.n)return t.tag="#",!0}function o(t,e,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==t&&n[r].o==e)return!0}function s(t){var e=[];for(var n in t)e.push('"'+l(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function u(t){var e=[];for(var n in t.partials)e.push('"'+l(n)+'":{name:"'+l(t.partials[n].name)+'", '+u(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+s(t.subs)}function l(t){return t.replace(y,"\\\\").replace(g,'\\"').replace(m,"\\n").replace(v,"\\r")}function c(t){return~t.indexOf(".")?"d":"f"}function d(t,e){var n="<"+(e.prefix||""),r=n+t.n+_++;return e.partials[r]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+l(r)+'",c,p,"'+(t.indent||"")+'"));',r}function f(t,e){e.code+="t.b(t.t(t."+c(t.n)+'("'+l(t.n)+'",c,p,0)));'}function h(t){return"t.b("+t+");"}var p=/\S/,g=/\"/g,m=/\n/g,v=/\r/g,y=/\\/g;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(i,a){function o(){h.length>0&&(g.push({tag:"_t",text:new String(h)}),h="")}function s(){for(var e=!0,n=y;n<g.length;n++)if(!(e=t.tags[g[n].tag]<t.tags._v||"_t"==g[n].tag&&null===g[n].text.match(p)))return!1;return e}function u(t,e){if(o(),t&&s())for(var n,r=y;r<g.length;r++)g[r].text&&((n=g[r+1])&&">"==n.tag&&(n.indent=g[r].text.toString()),g.splice(r,1));else e||g.push({tag:"\n"});m=!1,y=g.length}var l=i.length,c=0,d=null,f=null,h="",g=[],m=!1,v=0,y=0,b="{{",_="}}";for(a&&(a=a.split(" "),b=a[0],_=a[1]),v=0;v<l;v++)0==c?r(b,i,v)?(--v,o(),c=1):"\n"==i.charAt(v)?u(m):h+=i.charAt(v):1==c?(v+=b.length-1,f=t.tags[i.charAt(v+1)],d=f?i.charAt(v+1):"_v","="==d?(v=function(t,e){var r="="+_,i=t.indexOf(r,e),a=n(t.substring(t.indexOf("=",e)+1,i)).split(" ");return b=a[0],_=a[a.length-1],i+r.length-1}(i,v),c=0):(f&&v++,c=2),m=v):r(_,i,v)?(g.push({tag:d,n:n(h),otag:b,ctag:_,i:"/"==d?m-b.length:v+_.length}),h="",v+=_.length-1,c=0,"{"==d&&("}}"==_?v++:e(g[g.length-1]))):h+=i.charAt(v);return u(m,!0),g};var b={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,n,r){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+u(e)+"}"};var _=0;t.generate=function(e,n,r){_=0;var i={code:"",subs:{},partials:{}};return t.walk(e,i),r.asString?this.stringify(i,n,r):this.makeTemplate(i,n,r)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var r=this.makePartials(t);return r.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(r,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+c(e.n)+'("'+l(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+c(e.n)+'("'+l(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":d,"<":function(e,n){var r={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,r);var i=n.partials[d(e,n)];i.subs=r.subs,i.partials=r.partials},$:function(e,n){var r={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,r),n.subs[e.n]=r.code,n.inPartial||(n.code+='t.sub("'+l(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=h('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+c(t.n)+'("'+l(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=h('"'+l(t.text)+'"')},"{":f,"&":f},t.walk=function(e,n){for(var r,i=0,a=e.length;i<a;i++)(r=t.codegen[e[i].tag])&&r(e[i],n);return n},t.parse=function(t,e,n){return n=n||{},i(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var r=t.cacheKey(e,n),i=this.cache[r];return i||(i=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[r]=i)}}("undefined"!=typeof exports?exports:Hogan),"function"==typeof define&&define.amd&&define("require/hogan",Hogan),define("require/hgn",["hogan","text"],function(t,e){function n(e,n,r,i){var a=i.hgn||{};o(e,n,a,function(n){var o=a.compilationOptions?u({},a.compilationOptions):{};i.isBuild&&(o.asString=!0,p[e]=t.compile(n,o));var l=t.compile(n,o),c=s(l.render,l);c.text=l.text,c.template=l,r(c)})}function r(t,e,n,r){var s=null!=n.pathPrefix?n.pathPrefix:f,u=n.pathSeparator||h,l=a(t,s,u),c=0,d=0;l.length||r(t);for(;d<l.length;d++)!function(a){o(a,e,n,function(e){var n=new RegExp("{{> *"+i(a.substring(s.length).replace("/",u))+" *}}");t=t.replace(n,e),++c===l.length&&r(t)})}(l[d])}function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function a(e,n,r){for(var i=t.scan(e),a=i.length,o=0,s=[];o<a;o++)">"===i[o].tag&&i[o].n.indexOf(r)>-1&&s.push(n+i[o].n.replace(r,"/"));return s}function o(t,n,i,a){var o=t;o+=null!=i.templateExtension?i.templateExtension:d,e.get(n.toUrl(o),function(t){r(t,n,i,a)})}function s(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function l(e,n,r){if(n in p){c||(c=t.compile(g));var i=p[n];r(c.render({pluginName:e,moduleName:n,fn:i}))}}var c,d=".mustache",f="",h="/",p={},g='define("{{pluginName}}!{{moduleName}}", ["hogan"], function(hogan){  var tmpl = new hogan.Template({{{fn}}}, "", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n';return{load:n,write:l}}),define("nbd/Class",[],function(){"use strict";var t,e,n,r=function(){},i=/xyz/.test(function(){return xyz})?/\b_super\b/:/.*/;return e=function(t){var e={};return Object.keys(t).forEach(function(n){e[n]={configurable:!0,writable:!0,enumerable:!1,value:t[n]}}),Object.defineProperties(this.prototype,e),this},n=function(t){var e,n=!1;if("function"==typeof t)return t.prototype.isPrototypeOf(this.prototype);if("object"==typeof t){n=!0;for(e in t)if(t.hasOwnProperty(e)&&t[e]!==this.prototype[e]){n=!1;break}}return n},t=function(r,a){function o(t,e){var n=function(){return u[t].apply(this,arguments)};return function(){var t=this.hasOwnProperty("_super"),r=this._super;this._super=n;try{return e.apply(this,arguments)}catch(t){throw t}finally{t&&(this._super=r)}}}function s(){"function"==typeof this.init&&this.init.apply(this,arguments)}var u=this.prototype,l=function(t){s[t]=this[t]},c=Object.create(u);return r=r||{},a=a||{},Object.keys(r).forEach(function(t){var e=r[t];c[t]="function"==typeof e&&"function"==typeof u[t]&&i.test(e)?o(t,e):e}),Object.keys(this).forEach(l,this),Object.keys(a).forEach(l,a),s.prototype=c,Object.defineProperty(s.prototype,"constructor",{value:s}),Object.defineProperties(s,{extend:{value:t,enumerable:!1},mixin:{value:e},inherits:{value:n}}),s},r.extend=t,r}),define("nbd/util/async",[],function(){"use strict";function canUseNextTick(){return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}function canUseMessageChannel(){return!!global.MessageChannel}function canUsePostMessage(){if(!global.postMessage||global.importScripts)return!1;var t=!0,e=global.onmessage;return global.onmessage=function(){t=!1},global.postMessage("","*"),global.onmessage=e,t}function canUseReadyStateChange(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")}function nextTickImplementation(){return function(){var t=tasks.addFromSetImmediateArguments(arguments);return process.nextTick(function(){tasks.runIfPresent(t)}),t}}function messageChannelImplementation(){var t=new global.MessageChannel;return t.port1.onmessage=function(t){var e=t.data;tasks.runIfPresent(e)},function(){var e=tasks.addFromSetImmediateArguments(arguments);return t.port2.postMessage(e),e}}function postMessageImplementation(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===global&&t(e.data,n)){var r=e.data.substring(n.length);tasks.runIfPresent(r)}}var n="async-message"+Math.random();return global.addEventListener?global.addEventListener("message",e,!1):global.attachEvent("onmessage",e),function(){var t=tasks.addFromSetImmediateArguments(arguments);return global.postMessage(n+t,"*"),t}}function readyStateChangeImplementation(){return function(){var t=tasks.addFromSetImmediateArguments(arguments),e=global.document.createElement("script");return e.onreadystatechange=function(){tasks.runIfPresent(t),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e),t}}function setTimeoutImplementation(){return function(){var t=tasks.addFromSetImmediateArguments(arguments);return global.setTimeout(function(){tasks.runIfPresent(t)},0),t}}var global=void 0!==global?global:"undefined"!=typeof window?window:this,async,tasks=function(){function Task(t,e){this.handler=t,this.args=e}Task.prototype.run=function(){if("function"==typeof this.handler)this.handler.apply(void 0,this.args);else{var scriptSource=""+this.handler;eval(scriptSource)}};var nextHandle=1,tasksByHandle={},currentlyRunningATask=!1;return{addFromSetImmediateArguments:function(t){var e=t[0],n=Array.prototype.slice.call(t,1),r=new Task(e,n),i=nextHandle++;return tasksByHandle[i]=r,i},runIfPresent:function(t){if(currentlyRunningATask)global.setTimeout(function(){tasks.runIfPresent(t)},0);else{var e=tasksByHandle[t];if(e){currentlyRunningATask=!0;try{e.run()}finally{delete tasksByHandle[t],currentlyRunningATask=!1}}}},remove:function(t){delete tasksByHandle[t]}}}();return global.setImmediate?async=global.setImmediate:(async=canUseNextTick()?nextTickImplementation():canUsePostMessage()?postMessageImplementation():canUseMessageChannel()?messageChannelImplementation():canUseReadyStateChange()?readyStateChangeImplementation():setTimeoutImplementation(),async.clearImmediate=tasks.remove),async}),define("nbd/util/extend",[],function(){"use strict";return function(t){var e,n,r;for(e=1;e<arguments.length;++e){r=arguments[e];for(n in r)t[n]=r[n]}return t}}),define("nbd/util/diff",["./extend"],function(t){"use strict";function e(t,r){var i,a=!0;if(Object.getPrototypeOf(t)!==Object.prototype||Object.getPrototypeOf(r)!==Object.prototype)return!1;for(i in t){if(t[i]!==r[i])return!1;if(t.hasOwnProperty(i)&&"object"==typeof t[i]&&t[i]&&Object.getPrototypeOf(t[i])===Object.prototype){if(~n.indexOf(t[i]))continue;try{n.push(t[i]),a=a&&e(r[i],t[i])}catch(t){}finally{n.pop()}}if(!a)return a}return a}var n=[];return function(n,r,i){var a,o,s,u={};if("object"!=typeof r||"object"!=typeof n||null===r||null===n)throw new TypeError("Arguments must be objects");r=t({},r);for(a in n)if(n.hasOwnProperty(a)){if(o=n[a],s=r[a],delete r[a],o===s)continue;"object"==typeof o&&"object"==typeof s&&o&&s&&e(o,s)||(u[a]=[o,s],i&&i.apply(this,[a,o,s]))}for(a in r)r.hasOwnProperty(a)&&void 0!==r[a]&&(u[a]=[n[a]],i&&i.apply(this,[a,void 0,r[a]]));return u}}),define("nbd/trait/pubsub",[],function(){"use strict";var t=/\s+/,e=function t(e){return t.i=t.i||0,(e||"")+ ++t.i};return{on:function(e,n,r){var i,a,o;if(!n)return this;for(e=e.split(t),this._callbacks||Object.defineProperty(this,"_callbacks",{configurable:!0,value:{},writable:!0}),i=this._callbacks;a=e.shift();)o=i[a]||(i[a]=[]),o.push(n,r);return this},off:function(e,n,r){var i,a,o,s;if(!(a=this._callbacks))return this;if(!(e||n||r))return delete this._callbacks,this;for(e=e?e.split(t):Object.keys(a);i=e.shift();)if((o=a[i])&&(n||r))for(s=o.length-2;s>=0;s-=2)n&&o[s]!==n||r&&o[s+1]!==r||o.splice(s,2);else delete a[i];return this},trigger:function(e){var n,r,i,a,o,s,u,l;if(!(r=this._callbacks))return this;for(l=[],e=e.split(t),a=1,o=arguments.length;a<o;a++)l[a-1]=arguments[a];for(;n=e.shift();){if((u=r.all)&&(u=u.slice()),(i=r[n])&&(i=i.slice()),i)for(a=0,o=i.length;a<o;a+=2)i[a].apply(i[a+1]||this,l);if(u)for(s=[n].concat(l),a=0,o=u.length;a<o;a+=2)u[a].apply(u[a+1]||this,s)}return this},listenTo:function(t,n,r){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=e("l"))]=t,t.on(n,r||this,this),this},stopListening:function(t,e,n){var r=this._listeners;if(r){if(t)t.off(e,n,this),e||n||delete r[t._listenerId];else{for(var i in r)r[i].off(null,null,this);this._listeners={}}return this}}}}),define("nbd/Model",["./Class","./util/async","./util/extend","./util/diff","./trait/pubsub"],function(t,e,n,r,i){"use strict";var a=function(t,e){if(this._dirty){if(!0!==this._dirty)for(var n in this._dirty)this.trigger(n,this._data[n],this._dirty[n]);else{if(!t)return;r.call(this,e||this._data,t,this.trigger)}this._dirty=0}},o=t.extend({init:function(t,e){"string"==typeof t&&t.match(/^\d+$/)&&(t=+t),void 0===e&&"object"==typeof t&&(e=t,t=void 0),this.id=function(){return t};try{Object.defineProperty(this,"_dirty",{value:0,writable:!0}),Object.defineProperty(this,"_data",{enumerable:!1,configurable:!0,value:e||{},writable:!0})}catch(t){this._dirty=0,this._data=e}},destroy:function(){this.off(),this._data=null},data:function(){return!0!==this._dirty&&(e(a.bind(this,n({},this._data,this._dirty||void 0))),this._dirty=!0),this._data},get:function(t){return this._data[t]},set:function(t,n){var r,i=this._data;if(this._dirty||e(a.bind(this)),"string"==typeof t)return!0!==this._dirty&&(this._dirty=this._dirty||{},r in this._dirty||(this._dirty[t]=i[t])),i[t]=n,this;if("object"==typeof t){for(r in t)t.hasOwnProperty(r)&&(!0!==this._dirty&&(this._dirty=this._dirty||{},r in this._dirty||(this._dirty[r]=i[r])),i[r]=t[r]);return this}},toJSON:function(){return this._data}}).mixin(i);return o}),define("nbd/View",["./Class","./trait/pubsub"],function(t,e){"use strict";var n=t.extend({$view:null,render:function(t){var e=this.$view;return this.trigger("prerender",e),this.$view=this.template(t||this.templateData()),e&&e.length&&e.replaceWith(this.$view),this.trigger("postrender",this.$view),this.rendered&&this.rendered(this.$view),this.$view},template:function(){},templateData:function(){return{}},destroy:function(){this.$view&&this.$view.remove&&this.$view.remove(),this.$view=null,this.off()}}).mixin(e);return n}),define("nbd/View/Entity",["../View"],function(t){"use strict";var e=t.extend({init:function(t){"object"==typeof t&&(this._model=this.Model=t),this.id=t&&t.id||function(){return t}},destroy:function(t){this._model.off(null,null,this),t||(this._model=this.Model=null),this._super()},templateData:function(){return this._model&&this._model.data?this._model.data():this.id()},render:function(t){var e=this.$view,n=!(e&&t);return n&&(this.trigger("prerender",e),this.$view=this.template(this.templateData())),t?this.$view&&this.$view.appendTo(t):e&&e.replaceWith(this.$view),n&&(this.trigger("postrender",this.$view),"function"==typeof this.rendered&&this.rendered(this.$view)),this.$view}});return e}),define("nbd/View/Element",["../View"],function(t){"use strict";var e=t.extend({$parent:null,init:function(t){this.$parent=t},render:function(t){var e=this.$view;return this.trigger("prerender",e),this.$view=this.template(t||this.templateData()),e&&e.length?e.replaceWith(this.$view):this.$view.appendTo(this.$parent),this.trigger("postrender",this.$view),this.rendered&&this.rendered(this.$view),this.$view}});return e}),define("nbd/util/construct",[],function(){"use strict";var t=Object.prototype.toString;return function(){if(!~t.call(this).indexOf("Function"))throw new TypeError("construct called on incompatible Object");var e=Object.create(this.prototype),n=this.apply(e,arguments);return Object(n)===n?n:e}}),define("nbd/Controller",["./Class","./util/construct"],function(t,e){"use strict";var n=t.extend({destroy:function(){},_initView:function(t){var n=Array.prototype.slice.call(arguments,1);this._view=this.View=e.apply(t,n),this._view._controller=this._view.Controller=this},switchView:function(){var t=this._view;this._initView.apply(this,arguments),t&&(t.$view&&(this._view.$view=t.$view,this._view.render()),t.destroy())}});return n}),define("nbd/Controller/Entity",["../util/construct","../Controller","../View/Entity","../Model"],function(t,e,n,r){"use strict";var i=e.extend({init:function(){this._model=this.Model=t.apply(this.constructor.MODEL_CLASS,arguments),this._initView(this.constructor.VIEW_CLASS,this._model)},render:function(t,e){e=e||this.constructor.VIEW_CLASS,this.requestView(e),this._view.render(t)},destroy:function(){this._view.destroy(),this._model.destroy(),this._model=this._view=null},requestView:function(t){this._view instanceof t||this.switchView(t,this._model)}},{VIEW_CLASS:n,MODEL_CLASS:r});return i}),define("nbd/event",["./util/extend","./trait/pubsub"],function(t,e){"use strict";var n=t({},e);return n.bind=n.on,n.unbind=n.off,n.fire=n.trigger,n}),define("nbd/trait/promise",["../util/async","../util/extend"],function(t,e){"use strict";function n(){function e(e){e.length&&t(function(){for(var t=0;t<e.length;++t)e[t](s)}),l=c=[]}function r(t){d||(d=1,s=t,e(l))}function i(t){d||(d=-1,s=t,e(c))}function a(t){if(t===u)throw new TypeError("Cannot resolve with self");if(t instanceof n)return void t.then(a,i);try{if(("object"==typeof t||"function"==typeof t)&&null!==t&&"function"==typeof t.then)return function(){var e=!1;try{t.then(function(n){e||((n===t?r:a)(n),e=!0)},function(t){e||(i(t),e=!0)})}catch(t){e||i(t)}}()}catch(t){return void i(t)}r(t)}function o(e,r){function i(t){return function(e){var n;try{n=t(e)}catch(t){a.reject(t)}a.resolve(n)}}var a=new n;if(d){var o=d>0?e:r;"function"==typeof o?(o=i(o),t(function(){o(s)})):a[d>0?"resolve":"reject"](s)}else l.push("function"==typeof e?i(e):a.resolve),c.push("function"==typeof r?i(r):a.reject);return a}var s,u=this,l=[],c=[],d=0;Object.defineProperties(this,{reject:{value:i},resolve:{value:a}}),this.then=o}n.prototype.thenable=function(){return{then:this.then}},n.prototype.promise=function(){var t=this.then,e=function(){return n},n={done:function(){return Array.prototype.concat.apply([],arguments).forEach(function(e){t(e)}),n},fail:function(){return Array.prototype.concat.apply([],arguments).forEach(function(e){t(void 0,e)}),n},then:t,progress:e,promise:e};return n};var r=function(){this._promise||Object.defineProperty(this,"_promise",{value:new n})};return e(n,{then:function(t,e){return r.call(this),this._promise.then(t,e)},resolve:function(t){return r.call(this),this._promise.resolve(t),this},reject:function(t){return r.call(this),this._promise.reject(t),this},thenable:function(){return r.call(this),this._promise.thenable()},promise:function(){return r.call(this),this._promise.promise()}}),n}),define("nbd/util/deparam",[],function(){"use strict";return function(t,e){var n={},r={true:!0,false:!1,null:null};return t.replace(/\+/g," ").split("&").forEach(function(t){var i,a=t.split("="),o=decodeURIComponent(a[0]),s=n,u=0,l=o.split("]["),c=l.length-1;if(/\[/.test(l[0])&&/\]$/.test(l[c])?(l[c]=l[c].replace(/\]$/,""),l=l.shift().split("[").concat(l),c=l.length-1):c=0,2===a.length)if(i=decodeURIComponent(a[1]),e&&(i=i&&!isNaN(i)?+i:"undefined"===i?void 0:void 0!==r[i]?r[i]:i),c)for(u;u<=c;u++)o=""===l[u]?s.length:l[u],s=s[o]=u<c?s[o]||(l[u+1]&&isNaN(l[u+1])?{}:[]):i;else Array.isArray(n[o])?n[o].push(i):void 0!==n[o]?n[o]=[n[o],i]:n[o]=i;else o&&(n[o]=e?void 0:"")}),n}}),define("nbd/util/media",["./extend","../trait/pubsub"],function(t,e){"use strict";function n(t,e){var n=s(e);o[t]=n,n.addListener(a.bind(n,t)),n.matches&&a.call(n,t)}function r(t){return o[t]&&o[t].matches}function i(t,e){var r;if(!s)throw new Error("Media queries not supported.");if("string"==typeof t)return n(t,e),i;if("object"==typeof t)for(r in t)t.hasOwnProperty(r)&&(e=t[r],n(r,e));return i}var a,o={},s="undefined"!=typeof matchMedia?matchMedia:"undefined"!=typeof msMatchMedia?msMatchMedia:null;return t(i,e),a=function(t){i.trigger(t+(this.matches?":enter":":exit")),i.trigger(t,this.matches)},i.is=r,i.getState=function(t){return t?r(t):Object.keys(o).filter(r)},i}),define("nbd/util/pipe",[],function(){"use strict";return function(){var t=arguments;return function(){var e,n;for(e=0;e<t.length;++e)n=t[e].apply(this,0===e?arguments:[n]);return n}}}),define("nbd/util/when",["../trait/promise"],function(t){"use strict";var e=function(){return this}
;return function(){function n(t,e){s[t]=e}var r,i,a,o=new t,s=[];for(i=0;i<arguments.length;++i)arguments[i]instanceof t?r=arguments[i]:(r=new t,r.resolve(arguments[i])),r.then(n.bind(null,i)),a=a?a.then(e.bind(r)):r;return arguments.length?a.then(o.resolve.bind(null,s),o.reject):o.resolve(s),o}}),define("nbd/build/all",["nbd/Class","nbd/Model","nbd/View","nbd/View/Entity","nbd/View/Element","nbd/Controller","nbd/Controller/Entity","nbd/event","nbd/trait/promise","nbd/trait/pubsub","nbd/util/async","nbd/util/construct","nbd/util/deparam","nbd/util/diff","nbd/util/extend","nbd/util/media","nbd/util/pipe","nbd/util/when"],function(t,e,n,r,i,a,o,s,u,l,c,d,f,h,p,g,m,v){"use strict";var y={Class:t,Model:e,View:n,Controller:a,event:s,trait:{promise:u,pubsub:l},util:{async:c,construct:d,deparam:f,diff:h,extend:p,media:g,pipe:m,when:v}};return y.View.Element=i,y.View.Entity=r,y.Controller.Entity=o,y}),function(t){function e(t,e){return function(n){return s(t.call(this,n),e)}}function n(){}function r(t){a(this,t)}function i(t){var e=this._data={},n=t.years||t.year||t.y||0,r=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,a=t.days||t.day||t.d||0,s=t.hours||t.hour||t.h||0,u=t.minutes||t.minute||t.m||0,l=t.seconds||t.second||t.s||0,c=t.milliseconds||t.millisecond||t.ms||0;this._milliseconds=c+1e3*l+6e4*u+36e5*s,this._days=a+7*i,this._months=r+12*n,e.milliseconds=c%1e3,l+=o(c/1e3),e.seconds=l%60,u+=o(l/60),e.minutes=u%60,s+=o(u/60),e.hours=s%24,a+=o(s/24),a+=7*i,e.days=a%30,r+=o(a/30),e.months=r%12,n+=o(r/12),e.years=n}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t){return t<0?Math.ceil(t):Math.floor(t)}function s(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function u(t,e,n){var r,i=e._milliseconds,a=e._days,o=e._months;i&&t._d.setTime(+t+i*n),a&&t.date(t.date()+a*n),o&&(r=t.date(),t.date(1).month(t.month()+o*n).date(Math.min(r,t.daysInMonth())))}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t,e){var n,r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0;for(n=0;n<r;n++)~~t[n]!=~~e[n]&&a++;return a+i}function d(t,e){return e.abbr=t,H[t]||(H[t]=new n),H[t].set(e),H[t]}function f(t){return t?(!H[t]&&E&&require("./lang/"+t),H[t]):D.fn._lang}function h(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function p(t){var e,n,r=t.match(A);for(e=0,n=r.length;e<n;e++)tt[r[e]]?r[e]=tt[r[e]]:r[e]=h(r[e]);return function(i){var a="";for(e=0;e<n;e++)a+="function"==typeof r[e].call?r[e].call(i,t):r[e];return a}}function g(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var r=5;r--&&P.test(e);)e=e.replace(P,n);return J[e]||(J[e]=p(e)),J[e](t)}function m(t){switch(t){case"DDDD":return $;case"YYYY":return z;case"YYYYY":return B;case"S":case"SS":case"SSS":case"DDD":return U;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return F;case"X":return R;case"Z":case"ZZ":return N;case"T":return q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return Y;default:return new RegExp(t.replace("\\",""))}}function v(t,e,n){var r,i=n._a;switch(t){case"M":case"MM":i[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":r=f(n._l).monthsParse(e),null!=r?i[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(i[2]=~~e);break;case"YY":i[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~e;break;case"a":case"A":n._isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":i[3]=~~e;break;case"m":case"mm":i[4]=~~e;break;case"s":case"ss":i[5]=~~e;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,r=(e+"").match(W),r&&r[1]&&(n._tzh=~~r[1]),r&&r[2]&&(n._tzm=~~r[2]),r&&"+"===r[0]&&(n._tzh=-n._tzh,n._tzm=-n._tzm)}null==e&&(n._isValid=!1)}function y(t){var e,n,r=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];r[3]+=t._tzh||0,r[4]+=t._tzm||0,n=new Date(0),t._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),t._d=n}}function b(t){var e,n,r=t._f.match(A),i=t._i;for(t._a=[],e=0;e<r.length;e++)n=(m(r[e]).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),tt[r[e]]&&v(r[e],n,t);t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),y(t)}function _(t){for(var e,n,i,o,s=99;t._f.length;){if(e=a({},t),e._f=t._f.pop(),b(e),n=new r(e),n.isValid()){i=n;break}o=c(e._a,n.toArray()),o<s&&(s=o,i=n)}a(t,i)}function w(t){var e,n=t._i;if(V.exec(n)){for(t._f="YYYY-MM-DDT",e=0;e<4;e++)if(X[e][1].exec(n)){t._f+=X[e][0];break}N.exec(n)&&(t._f+=" Z"),b(t)}else t._d=new Date(n)}function S(e){var n=e._i,r=L.exec(n);n===t?e._d=new Date:r?e._d=new Date(+r[1]):"string"==typeof n?w(e):l(n)?(e._a=n.slice(0),y(e)):e._d=n instanceof Date?new Date(+n):new Date(n)}function x(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function T(t,e,n){var r=j(Math.abs(t)/1e3),i=j(r/60),a=j(i/60),o=j(a/24),s=j(o/365),u=r<45&&["s",r]||1===i&&["m"]||i<45&&["mm",i]||1===a&&["h"]||a<22&&["hh",a]||1===o&&["d"]||o<=25&&["dd",o]||o<=45&&["M"]||o<345&&["MM",j(o/30)]||1===s&&["y"]||["yy",s];return u[2]=e,u[3]=t>0,u[4]=n,x.apply({},u)}function M(t,e,n){var r=n-e,i=n-t.day();return i>r&&(i-=7),i<r-7&&(i+=7),Math.ceil(D(t).add("d",i).dayOfYear()/7)}function I(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=f().preparse(e)),D.isMoment(e)?(t=a({},e),t._d=new Date(+e._d)):n?l(n)?_(t):b(t):S(t),new r(t))}function k(t,e){D.fn[t]=D.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),this):this._d["get"+n+e]()}}function C(t,e){D.duration.fn["as"+t]=function(){return+this/e}}for(var D,O,j=Math.round,H={},E="undefined"!=typeof module&&module.exports,L=/^\/?Date\((\-?\d+)/i,A=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Y=/\d\d?/,U=/\d{1,3}/,$=/\d{3}/,z=/\d{1,4}/,B=/[+\-]?\d{1,6}/,F=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,N=/Z|[\+\-]\d\d:?\d\d/i,q=/T/i,R=/[\+\-]?\d+(\.\d{1,3})?/,V=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,X=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],W=/([\+\-]|\d\d)/gi,Z="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Q={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},J={},G="DDD w W M D d".split(" "),K="M D H h m s w W".split(" "),tt={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return s(this.year()%100,2)},YYYY:function(){return s(this.year(),4)},YYYYY:function(){return s(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return s(~~(this.milliseconds()/10),2)},SSS:function(){return s(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+s(~~(t/60),2)+":"+s(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+s(~~(10*t/6),4)},X:function(){return this.unix()}};G.length;)O=G.pop(),tt[O+"o"]=function(t){return function(e){return this.lang().ordinal(t.call(this,e))}}(tt[O]);for(;K.length;)O=K.pop(),tt[O+O]=e(tt[O],2);for(tt.DDDD=e(tt.DDD,3),n.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,r;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=D([2e3,e]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(r.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return M(t,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},D=function(t,e,n){return I({_i:t,_f:e,_l:n,_isUTC:!1})},D.utc=function(t,e,n){return I({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},D.unix=function(t){return D(1e3*t)},D.duration=function(t,e){var n,r=D.isDuration(t),a="number"==typeof t,o=r?t._data:a?{}:t;return a&&(e?o[e]=t:o.milliseconds=t),n=new i(o),r&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},D.version="2.0.0",D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",D.lang=function(t,e){if(!t)return D.fn._lang._abbr;e?d(t,e):H[t]||f(t),D.duration.fn._lang=D.fn._lang=f(t)},D.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),f(t)},D.isMoment=function(t){return t instanceof r},D.isDuration=function(t){return t instanceof i},D.fn=r.prototype={clone:function(){return D(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return D.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!c(this._a,(this._isUTC?D.utc(this._a):D(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){var e=g(this,t||D.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?D.duration(+e,t):D.duration(t,e),u(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?D.duration(+e,t):D.duration(t,e),u(this,n,-1),this},diff:function(t,e,n){var r,i,a=this._isUTC?D(t).utc():D(t).local(),s=6e4*(this.zone()-a.zone());return e&&(e=e.replace(/s$/,"")),"year"===e||"month"===e?(r=432e5*(this.daysInMonth()+a.daysInMonth()),i=12*(this.year()-a.year())+(this.month()-a.month()),i+=(this-D(this).startOf("month")-(a-D(a).startOf("month")))/r,"year"===e&&(i/=12)):(r=this-a-s,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?r/864e5:"week"===e?r/6048e5:r),n?i:o(i)},from:function(t,e){return D.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(D(),t)},calendar:function(){var t=this.diff(D().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<D([this.year()]).zone()||this.zone()<D([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},startOf:function(t){switch(t=t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.day(0),this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+D(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+D(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+D(t).startOf(e)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return D.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=j((D(this).startOf("day")-D(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},isoWeek:function(t){var e=M(this,1,4);return null==t?e:this.add("d",7*(t-e))},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},lang:function(e){return e===t?this._lang:(this._lang=f(e),this)}},O=0;O<Z.length;O++)k(Z[O].toLowerCase().replace(/s$/,""),Z[O]);k("year","FullYear"),D.fn.days=D.fn.day,D.fn.weeks=D.fn.week,D.fn.isoWeeks=D.fn.isoWeek,D.duration.fn=i.prototype={weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,n=T(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},lang:D.fn.lang};for(O in Q)Q.hasOwnProperty(O)&&(C(O,Q[O]),function(t){D.duration.fn[t]=function(){return this._data[t]}}(O.toLowerCase()));C("Weeks",6048e5),D.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),E&&(module.exports=D),"undefined"==typeof ender&&(this.moment=D),"function"==typeof define&&define.amd&&define("moment",[],function(){return D})}.call(this),function(t,e){"use strict";var n=t.History=t.History||{},r=t.jQuery;if(void 0!==n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(t,e,n){r(t).bind(e,n)},trigger:function(t,e,n){r(t).trigger(e,n)},extractEventData:function(t,e,n){return e&&e.originalEvent&&e.originalEvent[t]||n&&n[t]||void 0},onDomLoad:function(t){r(t)}},void 0!==n.init&&n.init()}(window),define("vendor/history.adapter.jquery",["jquery"],function(){}),function(t,e){"use strict";var n=t.console||void 0,r=t.document,i=t.navigator,a=t.sessionStorage||!1,o=t.setTimeout,s=t.clearTimeout,u=t.setInterval,l=t.clearInterval,c=t.JSON,d=t.alert,f=t.History=t.History||{},h=t.history;try{a.setItem("TEST","1"),a.removeItem("TEST")}catch(t){a=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,void 0!==f.init)throw new Error("History.js Core has already been loaded...");f.init=function(t){return void 0!==f.Adapter&&(void 0!==f.initCore&&f.initCore(),void 0!==f.initHtml4&&f.initHtml4(),!0)},f.initCore=function(e){if(void 0!==f.initCore.initialized)return!1;if(f.initCore.initialized=!0,f.options=f.options||{},f.options.hashChangeInterval=f.options.hashChangeInterval||100,f.options.safariPollInterval=f.options.safariPollInterval||500,f.options.doubleCheckInterval=f.options.doubleCheckInterval||500,f.options.disableSuid=f.options.disableSuid||!1,f.options.storeInterval=f.options.storeInterval||1e3,f.options.busyDelay=f.options.busyDelay||250,f.options.debug=f.options.debug||!1,f.options.initialTitle=f.options.initialTitle||r.title,f.options.html4Mode=f.options.html4Mode||!1,f.options.delayInit=f.options.delayInit||!1,f.intervalList=[],f.clearAllIntervals=function(){var t,e=f.intervalList;if(void 0!==e&&null!==e){for(t=0;t<e.length;t++)l(e[t]);f.intervalList=null}},f.debug=function(){f.options.debug&&f.log.apply(f,arguments)},f.log=function(){var t,e,i,a,o,s=!(void 0===n||void 0===n.log||void 0===n.log.apply),u=r.getElementById("log");for(s?(a=Array.prototype.slice.call(arguments),t=a.shift(),void 0!==n.debug?n.debug.apply(n,[t,a]):n.log.apply(n,[t,a])):t="\n"+arguments[0]+"\n",e=1,i=arguments.length;e<i;++e){if("object"==typeof(o=arguments[e])&&void 0!==c)try{o=c.stringify(o)}catch(t){}t+="\n"+o+"\n"}return u?(u.value+=t+"\n-----\n",u.scrollTop=u.scrollHeight-u.clientHeight):s||d(t),!0},f.getInternetExplorerMajorVersion=function(){return f.getInternetExplorerMajorVersion.cached=void 0!==f.getInternetExplorerMajorVersion.cached?f.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=r.createElement("div"),n=e.getElementsByTagName("i");(e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e")&&n[0];);return t>4&&t}()},f.isInternetExplorer=function(){return f.isInternetExplorer.cached=void 0!==f.isInternetExplorer.cached?f.isInternetExplorer.cached:Boolean(f.getInternetExplorerMajorVersion())},f.options.html4Mode?f.emulated={pushState:!0,hashChange:!0}:f.emulated={pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent))),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in r)||f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8)},f.enabled=!f.emulated.pushState,f.bugs={setHash:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<7)},f.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},f.cloneObject=function(t){var e,n;return t?(e=c.stringify(t),n=c.parse(e)):n={},n},f.getRootUrl=function(){var t=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(t+=":"+r.location.port),t+="/"},f.getBaseHref=function(){var t=r.getElementsByTagName("base"),e=null,n="";return 1===t.length&&(e=t[0],n=e.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},f.getBaseUrl=function(){return f.getBaseHref()||f.getBasePageUrl()||f.getRootUrl()},f.getPageUrl=function(){var t=f.getState(!1,!1),e=(t||{}).url||f.getLocationHref();return e.replace(/\/+$/,"").replace(/[^\/]+$/,function(t,e,n){return/\./.test(t)?t:t+"/"})},f.getBasePageUrl=function(){return f.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t,e,n){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/"},f.getFullUrl=function(t,e){var n=t,r=t.substring(0,1);return e=void 0===e||e,/[a-z]+\:\/\//.test(t)||(n="/"===r?f.getRootUrl()+t.replace(/^\/+/,""):"#"===r?f.getPageUrl().replace(/#.*/,"")+t:"?"===r?f.getPageUrl().replace(/[\?#].*/,"")+t:e?f.getBaseUrl()+t.replace(/^(\.\/)+/,""):f.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},f.getShortUrl=function(t){var e=t,n=f.getBaseUrl(),r=f.getRootUrl();return f.emulated.pushState&&(e=e.replace(n,"")),e=e.replace(r,"/"),f.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},f.getLocationHref=function(t){return t=t||r,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},f.store={},f.idToState=f.idToState||{},f.stateToId=f.stateToId||{},f.urlToId=f.urlToId||{},f.storedStates=f.storedStates||[],f.savedStates=f.savedStates||[],f.normalizeStore=function(){f.store.idToState=f.store.idToState||{},f.store.urlToId=f.store.urlToId||{},f.store.stateToId=f.store.stateToId||{}},f.getState=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n=f.getLastSavedState();return!n&&e&&(n=f.createStateObject()),t&&(n=f.cloneObject(n),n.url=n.cleanUrl||n.url),n},f.getIdByState=function(t){var e,n=f.extractId(t.url);if(!n)if(e=f.getStateString(t),void 0!==f.stateToId[e])n=f.stateToId[e];else if(void 0!==f.store.stateToId[e])n=f.store.stateToId[e];else{for(;;)if(n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0===f.idToState[n]&&void 0===f.store.idToState[n])break;f.stateToId[e]=n,f.idToState[n]=t}return n},f.normalizeState=function(t){var e,n;return t&&"object"==typeof t||(t={}),void 0!==t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=f.getFullUrl(t.url?t.url:f.getLocationHref()),e.hash=f.getShortUrl(e.url),e.data=f.cloneObject(t.data),e.id=f.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,n=!f.isEmptyObject(e.data),(e.title||n)&&!0!==f.options.disableSuid&&(e.hash=f.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=f.getFullUrl(e.hash),(f.emulated.pushState||f.bugs.safariPoll)&&f.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},f.createStateObject=function(t,e,n){var r={data:t,title:e,url:n};return r=f.normalizeState(r)},f.getStateById=function(t){return t=String(t),f.idToState[t]||f.store.idToState[t]||void 0},f.getStateString=function(t){var e,n;return e=f.normalizeState(t),n={data:e.data,title:t.title,url:t.url},c.stringify(n)},f.getStateId=function(t){var e;return e=f.normalizeState(t),e.id},f.getHashByState=function(t){var e;return e=f.normalizeState(t),e.hash},f.extractId=function(t){var e,n;return n=-1!=t.indexOf("#")?t.split("#")[0]:t,e=/(.*)\&_suid=([0-9]+)$/.exec(n),e?e[1]||t:t,(e?String(e[2]||""):"")||!1},f.isTraditionalAnchor=function(t){return!/[\/\?\.]/.test(t)},f.extractState=function(t,e){var n,r,i=null;return e=e||!1,n=f.extractId(t),n&&(i=f.getStateById(n)),i||(r=f.getFullUrl(t),n=f.getIdByUrl(r)||!1,n&&(i=f.getStateById(n)),i||!e||f.isTraditionalAnchor(t)||(i=f.createStateObject(null,null,r))),i},f.getIdByUrl=function(t){return f.urlToId[t]||f.store.urlToId[t]||void 0},f.getLastSavedState=function(){return f.savedStates[f.savedStates.length-1]||void 0},f.getLastStoredState=function(){return f.storedStates[f.storedStates.length-1]||void 0},f.hasUrlDuplicate=function(t){var e;return e=f.extractState(t.url),e&&e.id!==t.id},f.storeState=function(t){return f.urlToId[t.url]=t.id,f.storedStates.push(f.cloneObject(t)),t},f.isLastSavedState=function(t){var e,n,r,i=!1;return f.savedStates.length&&(e=t.id,n=f.getLastSavedState(),r=n.id,i=e===r),i},f.saveState=function(t){return!f.isLastSavedState(t)&&(f.savedStates.push(f.cloneObject(t)),!0)},f.getStateByIndex=function(t){return void 0===t?f.savedStates[f.savedStates.length-1]:t<0?f.savedStates[f.savedStates.length+t]:f.savedStates[t]},f.getCurrentIndex=function(){return f.savedStates.length<1?0:f.savedStates.length-1},f.getHash=function(t){var e=f.getLocationHref(t);return f.getHashByUrl(e)},f.unescapeHash=function(t){var e=f.normalizeHash(t);return e=decodeURIComponent(e)},f.normalizeHash=function(t){return t.replace(/[^#]*#/,"").replace(/#.*/,"")},f.setHash=function(t,e){var n,i;return!1!==e&&f.busy()?(f.pushQueue({scope:f,callback:f.setHash,args:arguments,queue:e}),!1):(f.busy(!0),n=f.extractState(t,!0),n&&!f.emulated.pushState?f.pushState(n.data,n.title,n.url,!1):f.getHash()!==t&&(f.bugs.setHash?(i=f.getPageUrl(),f.pushState(null,null,i+"#"+t,!1)):r.location.hash=t),f)},f.escapeHash=function(e){var n=f.normalizeHash(e);return n=t.encodeURIComponent(n),f.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},f.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=f.unescapeHash(e)},f.setTitle=function(t){var e,n=t.title;n||(e=f.getStateByIndex(0))&&e.url===t.url&&(n=e.title||f.options.initialTitle);try{r.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(t){}return r.title=n,f},f.queues=[],f.busy=function(t){if(void 0!==t?f.busy.flag=t:void 0===f.busy.flag&&(f.busy.flag=!1),!f.busy.flag){s(f.busy.timeout);var e=function(){var t,n,r;if(!f.busy.flag)for(t=f.queues.length-1;t>=0;--t)n=f.queues[t],0!==n.length&&(r=n.shift(),f.fireQueueItem(r),f.busy.timeout=o(e,f.options.busyDelay))};f.busy.timeout=o(e,f.options.busyDelay)}return f.busy.flag},f.busy.flag=!1,f.fireQueueItem=function(t){return t.callback.apply(t.scope||f,t.args||[])},f.pushQueue=function(t){return f.queues[t.queue||0]=f.queues[t.queue||0]||[],f.queues[t.queue||0].push(t),f},f.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),void 0!==e&&(t.queue=e),f.busy()?f.pushQueue(t):f.fireQueueItem(t),f},f.clearQueue=function(){return f.busy.flag=!1,f.queues=[],f},f.stateChanged=!1,f.doubleChecker=!1,f.doubleCheckComplete=function(){return f.stateChanged=!0,f.doubleCheckClear(),f},f.doubleCheckClear=function(){return f.doubleChecker&&(s(f.doubleChecker),f.doubleChecker=!1),f},f.doubleCheck=function(t){return f.stateChanged=!1,f.doubleCheckClear(),f.bugs.ieDoubleCheck&&(f.doubleChecker=o(function(){return f.doubleCheckClear(),f.stateChanged||t(),!0},f.options.doubleCheckInterval)),f},f.safariStatePoll=function(){var e,n=f.extractState(f.getLocationHref());if(!f.isLastSavedState(n))return e=n,e||(e=f.createStateObject()),f.Adapter.trigger(t,"popstate"),f},f.back=function(t){return!1!==t&&f.busy()?(f.pushQueue({scope:f,callback:f.back,args:arguments,queue:t}),!1):(f.busy(!0),f.doubleCheck(function(){f.back(!1)}),h.go(-1),!0)},f.forward=function(t){return!1!==t&&f.busy()?(f.pushQueue({scope:f,callback:f.forward,args:arguments,queue:t}),!1):(f.busy(!0),f.doubleCheck(function(){f.forward(!1)}),h.go(1),!0)},f.go=function(t,e){var n;if(t>0)for(n=1;n<=t;++n)f.forward(e);else{if(!(t<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=t;--n)f.back(e)}return f},f.emulated.pushState){var p=function(){};f.pushState=f.pushState||p,f.replaceState=f.replaceState||p}else f.onPopState=function(e,n){var r,i,a=!1,o=!1;return f.doubleCheckComplete(),(r=f.getHash())?(i=f.extractState(r||f.getLocationHref(),!0),i?f.replaceState(i.data,i.title,i.url,!1):(f.Adapter.trigger(t,"anchorchange"),f.busy(!1)),f.expectedStateId=!1,!1):(a=f.Adapter.extractEventData("state",e,n)||!1,o=a?f.getStateById(a):f.expectedStateId?f.getStateById(f.expectedStateId):f.extractState(f.getLocationHref()),o||(o=f.createStateObject(null,null,f.getLocationHref())),f.expectedStateId=!1,f.isLastSavedState(o)?(f.busy(!1),!1):(f.storeState(o),f.saveState(o),f.setTitle(o),f.Adapter.trigger(t,"statechange"),f.busy(!1),!0))},f.Adapter.bind(t,"popstate",f.onPopState),f.pushState=function(e,n,r,i){if(f.getHashByUrl(r)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==i&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:i}),!1;f.busy(!0);var a=f.createStateObject(e,n,r);return f.isLastSavedState(a)?f.busy(!1):(f.storeState(a),f.expectedStateId=a.id,h.pushState(a.id,a.title,a.url),f.Adapter.trigger(t,"popstate")),!0},f.replaceState=function(e,n,r,i){if(f.getHashByUrl(r)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==i&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:i}),!1;f.busy(!0);var a=f.createStateObject(e,n,r);return f.isLastSavedState(a)?f.busy(!1):(f.storeState(a),f.expectedStateId=a.id,h.replaceState(a.id,a.title,a.url),f.Adapter.trigger(t,"popstate")),!0};if(a){try{f.store=c.parse(a.getItem("History.store"))||{}}catch(t){f.store={}}f.normalizeStore()}else f.store={},f.normalizeStore();f.Adapter.bind(t,"unload",f.clearAllIntervals),f.saveState(f.storeState(f.extractState(f.getLocationHref(),!0))),a&&(f.onUnload=function(){var t,e,n;try{t=c.parse(a.getItem("History.store"))||{}}catch(e){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in f.idToState)f.idToState.hasOwnProperty(e)&&(t.idToState[e]=f.idToState[e]);for(e in f.urlToId)f.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=f.urlToId[e]);for(e in f.stateToId)f.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=f.stateToId[e]);f.store=t,f.normalizeStore(),n=c.stringify(t);try{a.setItem("History.store",n)}catch(t){if(t.code!==DOMException.QUOTA_EXCEEDED_ERR)throw t;a.length&&(a.removeItem("History.store"),a.setItem("History.store",n))}},f.intervalList.push(u(f.onUnload,f.options.storeInterval)),f.Adapter.bind(t,"beforeunload",f.onUnload),f.Adapter.bind(t,"unload",f.onUnload)),f.emulated.pushState||(f.bugs.safariPoll&&f.intervalList.push(u(f.safariStatePoll,f.options.safariPollInterval)),"Apple Computer, Inc."!==i.vendor&&"Mozilla"!==(i.appCodeName||"")||(f.Adapter.bind(t,"hashchange",function(){f.Adapter.trigger(t,"popstate")}),f.getHash()&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(t,"hashchange")})))},f.options&&f.options.delayInit||f.init()}(window),define("vendor/history",["vendor/history.adapter.jquery"],function(t){return function(){return t.History}}(this)),function(t,e,n){function r(t,n){var r,i=e.createElement(t||"div");for(r in n)i[r]=n[r];return i}function i(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function a(t,e,n,r){var i=["opacity",e,~~(100*t),n,r].join("-"),a=.01+n/r*100,o=Math.max(1-(1-t)/e*(100-a),t),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return f[i]||(h.insertRule("@"+u+"keyframes "+i+"{0%{opacity:"+o+"}"+a+"%{opacity:"+t+"}"+(a+.01)+"%{opacity:1}"+(a+e)%100+"%{opacity:"+t+"}100%{opacity:"+o+"}}",h.cssRules.length),f[i]=1),i}function o(t,e){var r,i,a=t.style;if(a[e]!==n)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<d.length;i++)if(r=d[i]+e,a[r]!==n)return r}function s(t,e){for(var n in e)t.style[o(t,n)||n]=e[n];return t}function u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]===n&&(t[i]=r[i])}return t}function l(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var c,d=["webkit","Moz","ms","O"],f={},h=function(){var t=r("style",{type:"text/css"});return i(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},g=function t(e){if(!this.spin)return new t(e);this.opts=u(e||{},t.defaults,p)};g.defaults={},u(g.prototype,{spin:function(t){this.stop()
;var e,n,i=this,a=i.opts,o=i.el=s(r(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),u=a.radius+a.length+a.width;if(t&&(t.insertBefore(o,t.firstChild||null),n=l(t),e=l(o),s(o,{left:("auto"==a.left?n.x-e.x+(t.offsetWidth>>1):parseInt(a.left,10)+u)+"px",top:("auto"==a.top?n.y-e.y+(t.offsetHeight>>1):parseInt(a.top,10)+u)+"px"})),o.setAttribute("aria-role","progressbar"),i.lines(o,i.opts),!c){var d=0,f=a.fps,h=f/a.speed,p=(1-a.opacity)/(h*a.trail/100),g=h/a.lines;!function t(){d++;for(var e=a.lines;e;e--){var n=Math.max(1-(d+e*g)%h*p,a.opacity);i.opacity(o,a.lines-e,n,a)}i.timeout=i.el&&setTimeout(t,~~(1e3/f))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=n),this},lines:function(t,e){function n(t,n){return s(r(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*u+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var o,u=0;u<e.lines;u++)o=s(r(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:c&&a(e.opacity,e.trail,u,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&i(o,s(n("#000","0 0 4px #000"),{top:"2px"})),i(t,i(o,n(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),function(){function t(t,e){return r("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=s(r("group"),{behavior:"url(#default#VML)"});!o(e,"transform")&&e.adj?(h.addRule(".spin-vml","behavior:url(#default#VML)"),g.prototype.lines=function(e,n){function r(){return s(t("group",{coordsize:l+" "+l,coordorigin:-u+" "+-u}),{width:l,height:l})}function a(e,a,o){i(d,i(s(r(),{rotation:360/n.lines*e+"deg",left:~~a}),i(s(t("roundrect",{arcsize:n.corners}),{width:u,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),t("fill",{color:n.color,opacity:n.opacity}),t("stroke",{opacity:0}))))}var o,u=n.length+n.width,l=2*u,c=2*-(n.width+n.length)+"px",d=s(r(),{position:"absolute",top:c,left:c});if(n.shadow)for(o=1;o<=n.lines;o++)a(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(o=1;o<=n.lines;o++)a(o);return i(e,d)},g.prototype.opacity=function(t,e,n,r){var i=t.firstChild;r=r.shadow&&r.lines||0,i&&e+r<i.childNodes.length&&(i=i.childNodes[e+r],i=i&&i.firstChild,(i=i&&i.firstChild)&&(i.opacity=n))}):c=o(e,"animation")}(),"function"==typeof define&&define.amd?define("vendor/spin",[],function(){return g}):t.Spinner=g}(window,document);